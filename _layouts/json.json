---
layout: nil
---
{% if page.category == "All" %}
{% assign patterns = site.patterns %}
{% else if %}
{% assign patterns = site.patterns | where: "category": page.category %}
{% endif %}

{
  "title": "{{ page.title }}",
  "size": {{ patterns.size }},
  "patterns": [
    {% for pattern in patterns %}
    {
      "title": "{{ pattern.title }}",
      "slug": "{{ pattern.title | slugify }}",
      "image": "{{ pattern.images[0].url }}",
      "description": "{{ pattern.content | strip_html | normalize_whitespace | truncate: 80 | escape }}",
      "illustration_version": "{{ pattern.illustration_version }}",
      "category_slug": "{{ pattern.category | slugify }}"
    },
    {% endfor %}
    {

    }
  ]
}
