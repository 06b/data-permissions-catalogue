---
layout: default
---

{% assign other_patterns = site.patterns | where: "category": page.category %}

<div class="grid-x grid-padding-x pattern-image{% if page.illustration_version == 1 %} illustration_version_1{% endif %}">
  <a href="#" class="carousel-control previous">Previous</a>
  <a href="#" class="carousel-control next">Next</a>
  {% if page.images %}
    {% case page.images.size %}
      {% when 1 %}
      <div class="{% if page.illustration_version == 1%}large-12{% else %}large-4 large-offset-4{% endif %} small-12 cell">
        <img src="{{ page.images[0].url }}" />
      </div>
      {% when 2 %}
      {% assign count = 0 %}
      {% for image in page.images %}
        {% if count == 0 %}
          <div class="large-4 large-offset-2 small-12 cell">
        {% else %}
          <div class="large-4 small-12 cell">
        {% endif %}
            <img src="{{ image.url }}" />
          </div>
        {% assign count = count | plus: 1 %}
      {% endfor %}
      {% when 3 %}
      {% for image in page.images %}
      <div class="large-4 small-12 cell">
        <img src="{{ image.url }}" />
      </div>
      {% endfor %}
    {% endcase %}
  {% endif %}
</div>

<div class="grid-x grid-padding-x">
  <div class="large-8 large-offset-2 small-12 cell">
    <div class="carousel-indicator"><div class="wrapper"></div></div>

    <h2 style="margin-bottom: 10px;">{{ page.title }}</h2>
    <p class="pattern-category-label"><a href="/category/{{ page.category | slugify }}">{{ page.category }}</a></p>

    {{ content }}

    {% if page.advantages %}
    <h3>Advantages</h3>

    <ul>
      {% for advantage in page.advantages %}
      <li>
        <p>{{ advantage }}</p>
      </li>
      {% endfor %}
    </ul>
    {% endif %}

    {% if page.limitations %}
    <h3>Limitations</h3>

    <ul>
      {% for limitation in page.limitations %}
      <li>
        <p>{{ limitation }}</p>
      </li>
      {% endfor %}
    </ul>
    {% endif %}

    {% if page.examples %}
    <h3>Examples</h3>

    <ul>
      {% for example in page.examples %}
      <li>
        <p>{% if example.url %}<a href="{{ example.url }}">{% endif %}{% if example.title %}{{ example.title }}{% endif %}{% if example.url %}</a>{% endif %}{% if example.title and example.description %}: {% endif %}{% if example.description %}{{ example.description }}{% endif %}</p>
      </li>
      {% endfor %}
    </ul>
    {% endif %}

    {% if page.further_reading %}
    <h3>Further reading</h3>

    <ul class="further_reading">
      {% for item in page.further_reading %}
      <li>
        <p><a href="{{ item.url }}">{{ item.title }}</a>{% if item.description %}: {{ item.description }}{% endif %}</p>
      </li>
      {% endfor %}
    </ul>
    {% endif %}

    {% include work-in-progress.html %}

    {% if other_patterns.size > 1 %}
    <h3 id="related-patterns-title">Related patterns</h3>
    {% include category-nav.html %}
    {% endif %}
  </div>
</div>

{% if other_patterns.size > 1 %}
<div class="related-patterns">
  <div class="grid-x grid-padding-x">
  {% for pattern in other_patterns %}
  {% if pattern.title != page.title %}
  <div class="small-12 large-6 cell">
    <a href="/patterns/{{ pattern.title | slugify }}" class="pattern-block">
      <div class="image{% if pattern.illustration_version == 1 %} illustration_version_1{% endif %}">
        {% if pattern.cover_image %}
        <img src="{{ pattern.cover_image[0].url }}" />
        {% else if pattern.images[0].url %}
        <img src="{{ pattern.images[0].url }}" />
        {% endif %}
      </div>
      <p class="title">{{ pattern.title }}</p>
    </a>
  </div>
  {% endif %}
  {% endfor %}
  </div>
</div>
{% endif %}
